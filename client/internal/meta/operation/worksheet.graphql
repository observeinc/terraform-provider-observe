fragment Worksheet on Worksheet {
	id
	label
	icon
	managedById
	workspaceId
	# @genqlient(flatten: true)
	stages {
		...StageQuery
	}
	# @genqlient(typename: "EntityTagMapping")
	entityTags {
		key
		values
	}
}

fragment WorksheetIdLabel on Worksheet {
	id
	label
}

mutation saveWorksheet(
	$worksheetInput: WorksheetInput!
) {
	# @genqlient(flatten: true)
	worksheet: saveWorksheet(wks:$worksheetInput) {
		...Worksheet
	}
}

query getWorksheet($id: ObjectId!) {
	# @genqlient(flatten: true)
	worksheet: worksheet(id: $id) {
		...Worksheet
	}
}

query listWorksheetsIdLabelOnly($workspaceId: ObjectId!) {
	worksheetSearch: worksheetSearch(terms: { workspaceId: [$workspaceId] }) {
		worksheets {
			# @genqlient(flatten: true)
			worksheet {
				...WorksheetIdLabel
			}
		}
	}
}

mutation deleteWorksheet($id: ObjectId!) {
	# @genqlient(flatten: true)
	resultStatus: deleteWorksheet(wks: $id) {
        ...ResultStatus
	}
}
