directive @goModel(model: String, models: [String!]) on OBJECT
    | INPUT_OBJECT
    | SCALAR
    | ENUM
    | INTERFACE
    | UNION

directive @goField(forceResolver: Boolean, name: String) on INPUT_FIELD_DEFINITION
    | FIELD_DEFINITION

directive @eol on
    | INPUT_FIELD_DEFINITION
    | FIELD_DEFINITION
    | ARGUMENT_DEFINITION



"""
Directive to configure which API rate limit buckets apply to this GraphQL field.
If omitted, the default buckets of api:readonlyPerUser and api:readonlyPerCustomer are used for
Query fields, and api:perUser and api:perCustomer are used for Mutation fields.
When provided, ONLY the listed buckets apply, replacing the defaults.
To enforce extra rate limits in addition to the defaults, include the default ones in the list.
To disable rate limiting for this field, set names: [].
"""
directive @rateLimits(names: [String!]) on FIELD_DEFINITION

scalar Any @goModel(model: "observe/meta/metascalar.Any")
scalar CustomerId @goModel(model: "observe/authorization/id.CustomerId")
scalar Duration @goModel(model: "observe/compiler/comptypes.Duration")
scalar Int64 @goModel(model: "observe/meta/metascalar.Int64")
scalar JsonObject @goModel(model: "observe/meta/metascalar.ObjectScalar")
scalar Number @goModel(model: "observe/meta/metascalar.Number")
scalar ObjectId @goModel(model: "observe/meta/metascalar.ObjectId")
scalar SnowflakeCursor @goModel(model: "observe/meta/metaparser.SnowflakeCursor")
scalar StatsVector @goModel(model: "observe/meta/metastats.Vector")

"""
Time presented in RFC3339 format.
"""
scalar Time @goModel(model: "observe/meta/metascalar.Time")
scalar UserId @goModel(model: "observe/authorization/id.UserId")

"""
At some point in the future, we may have Segments as business objects,
and be able to bookmark them. Technically, we can bookmark bookmark groups, but
there is no current UI using that feature.
"""
enum ObjectKind @goModel(model: "observe/meta/metatypes.ObjectKind") {
  Dataset
  Worksheet
  BookmarkGroup
  Monitor
  Resource
  Dashboard
}

type TimeRange @goModel(model: "observe/meta/metatypes.TimeRange") {
    start: Time
    end: Time
}

input TimeRangeInput @goModel(model: "observe/meta/metatypes.TimeRange") {
    start: Time
    end: Time
}

type SourceLoc @goModel(model: "observe/compiler/comptypes.SourceLocation") {
    row: Int64!
    col: Int64!
}

input SourceLocInput @goModel(model: "observe/compiler/comptypes.SourceLocation") {
    row: Int64!
    col: Int64!
}

type SourceSpan @goModel(model: "observe/compiler/comptypes.SourceSpan") {
    start: SourceLoc!
    end: SourceLoc!
}

type ResultStatus @goModel(model: "observe/meta/metascalar.ResultStatus") {
    success: Boolean!
    errorMessage: String!
    detailedInfo: JsonObject
}

interface ErrorInstance @goModel(model: "observe/meta/metatypes.ErrorInstance") {
    """
    When did the error last occur.
    """
    time: Time!

    """
    Error text.
    """
    errorText: String!
}

type RateLimitConfig @goModel(model: "observe/meta/metatypes.RateLimitConfig") {
    rate: Float!
    burst: Int64
}

input RateLimitInput @goModel(model: "observe/meta/metatypes.RateLimitInput") {
    rate: Float!

    burst: Int64
}
