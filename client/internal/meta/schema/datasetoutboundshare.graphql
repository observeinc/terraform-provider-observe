extend type Query {
    datasetOutboundShare(id: ObjectId!): DatasetOutboundShare!
    searchDatasetOutboundShare(workspaceId: ObjectId, folderId: ObjectId, nameExact: String, nameSubstring: String): DatasetOutboundShareSearchResult!
}

extend type Mutation {
    createDatasetOutboundShare(workspaceId: ObjectId!, datasetID: ObjectId!, outboundShareID: ObjectId!, input: DatasetOutboundShareInput!): DatasetOutboundShare!
    updateDatasetOutboundShare(id: ObjectId!, input: DatasetOutboundShareInput!): DatasetOutboundShare!
    deleteDatasetOutboundShare(id: ObjectId!): ResultStatus!
}

enum DatasetOutboundShareState @goModel(model: "observe/meta/metatypes.DatasetOutboundShareState") {
  Error
  Live
  Pending
  Unavailable
}

type DatasetOutboundShareStatus @goModel(model: "observe/meta/metatypes.DatasetOutboundShareStatus") {
    state: DatasetOutboundShareState!
    error: String
}

input DatasetOutboundShareStatusInput @goModel(model: "observe/meta/metatypes.DatasetOutboundShareStatusInput") {
    state: DatasetOutboundShareState!
    error: String
}


type DatasetOutboundShare implements WorkspaceObject & AuditedObject & FolderObject @goModel(model: "observe/meta/metatypes.DatasetOutboundShare") {
    datasetID: ObjectId!
    outboundShareID: ObjectId!
    schemaName: String!
    viewName: String!
    status: DatasetOutboundShareStatus! @goField(forceResolver: true)
    """
    The freshness goal for the outbound share, in nanoseconds. This determines the maximum staleness for the shared dataset. Newer data may not yet be accelerated (materialized) and will not be returned in Snowflake queries for the share. To avoid additional acceleration and minimize cost, set this to 1 hour (3600000000000), the maximum staleness of datasets when freshness decay is active.
    """
    freshnessGoal: Int64!

    """
    If set to true, the shared view has change tracking enabled.
    """
    changeTracking: Boolean

    id: ObjectId!
    workspaceId: ObjectId!
    name: String!
    iconUrl: String
    description: String
    managedById: ObjectId
    managedBy: WorkspaceObject @goField(forceResolver: true)

    folderId: ObjectId!

    createdBy: UserId!
    createdDate: Time!
    createdByInfo: UserInfo! @goField(forceResolver: true)
    updatedBy: UserId!
    updatedDate: Time!
    updatedByInfo: UserInfo! @goField(forceResolver: true)
}

input DatasetOutboundShareInput @goModel(model: "observe/meta/metatypes.DatasetOutboundShareInput") {
    schemaName: String!
    viewName: String!
    freshnessGoal: Int64!

    """
    If set to true, the shared view will have change tracking enabled.
    """
    changeTracking: Boolean

    name: String!
    iconUrl: String
    description: String
    managedById: ObjectId

    folderId: ObjectId
}

type DatasetOutboundShareSearchResult @goModel(model: "observe/meta/metatypes.DatasetOutboundShareSearchResult") {
    results: [DatasetOutboundShare!]!
}

