---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "observe_monitor_v2 Resource - terraform-provider-observe"
subcategory: ""
description: |-
  NOTE: This feature is still in development. It is not meant for customer use yet.
  Monitors provide a configurable way to alert when conditions about incoming data
  are matched. These alerts can optionally also be forwarded to notification receivers
  like email and webhooks using shared or single-monitor actions to configure the
  template and destinations to configure the receiver.
---
# observe_monitor_v2

NOTE: This feature is still in development. It is not meant for customer use yet.

Monitors provide a configurable way to alert when conditions about incoming data
are matched. These alerts can optionally also be forwarded to notification receivers
like email and webhooks using shared or single-monitor actions to configure the
template and destinations to configure the receiver.

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `inputs` (Map of String) The inputs map binds dataset OIDs to labels which can be referenced within
stage pipelines.
- `name` (String) Monitor name.
- `rule_kind` (String) Describes the type of each of the rules in the definition (they must all be the same type).
- `rules` (Block List, Min: 1) All rules for this monitor must be of the same MonitorRuleKind as specified in ruleKind. Rules should be constructed logically such that a state transition null->Warning implies transition from null->Informational. (see [below for nested schema](#nestedblock--rules))
- `stage` (Block List, Min: 1) A stage processes an input according to the provided pipeline. If no
input is provided, a stage will implicitly follow on from the result of
its predecessor. (see [below for nested schema](#nestedblock--stage))
- `workspace` (String) OID of the workspace this object is contained in.

### Optional

- `actions` (Block List) The list of shared actions to which this monitor is connected. (see [below for nested schema](#nestedblock--actions))
- `data_stabilization_delay` (String) expresses the minimum time that should elapse before data is considered "good enough" to evaluate. Choosing a delay really depends on the expectations of latency of data and whether data is expected to arrive later than other data and thus would change previously evaluated results.
- `description` (String) A brief description of the monitor.
- `groupings` (Block List) Describes the groups that logically separate events/rows/etc from each other. If monitor dataset is resource type and monitor strategy is promote, this field should be either empty or only contain the primary keys of the dataset. (see [below for nested schema](#nestedblock--groupings))
- `icon_url` (String) URL of the monitor icon.
- `lookback_time` (String) optionally describes a duration that must be satisifed by this monitor. It applies to all rules, but is only applicable to rule kinds that utilize it.
- `scheduling` (Block List, Max: 1) Holds information about when the monitor should evaluate. The types of scheduling (interval, transform) are exclusive. If ommitted, defaults to transform. (see [below for nested schema](#nestedblock--scheduling))

### Read-Only

- `id` (String) The ID of this resource.
- `oid` (String)

<a id="nestedblock--rules"></a>
### Nested Schema for `rules`

Required:

- `level` (String) The alarm level (Critical, Error, Informational, None, Warning).

Optional:

- `count` (Block List, Max: 1) The count rule to apply to incoming data. (see [below for nested schema](#nestedblock--rules--count))
- `promote` (Block List, Max: 1) The monitor will promote each event in the raw input dataset into an alert. For now, the promote rule will ignore link columns and only care about columnWithPath.
If multiple compareColumns are specified in one promote rule, it will act as an AND condition. When defined through separate promote rules, it will act as an OR condition. (see [below for nested schema](#nestedblock--rules--promote))
- `threshold` (Block List, Max: 1) Gives flexibility for threshold and range-based monitors to trigger on values. To look for sustained behavior (CPU > 80 for 5 mins), specify lookbackTime. (see [below for nested schema](#nestedblock--rules--threshold))

<a id="nestedblock--rules--count"></a>
### Nested Schema for `rules.count`

Required:

- `compare_values` (Block List, Min: 1) list of comparisons that provide an implicit AND where all comparisons must match. (see [below for nested schema](#nestedblock--rules--count--compare_values))

Optional:

- `compare_groups` (Block List) list of comparisons made against the columns which the monitor is grouped by. (see [below for nested schema](#nestedblock--rules--count--compare_groups))

<a id="nestedblock--rules--count--compare_values"></a>
### Nested Schema for `rules.count.compare_values`

Required:

- `compare_fn` (String) the type of comparison (greater, less, equal, etc.)

Optional:

- `value_bool` (List of Boolean) list of size <=1 consisting of a boolean value.
- `value_duration` (List of Number) list of size <=1 consisting of a duration value.
- `value_float64` (List of Number) list of size <=1 consisting of a float value.
- `value_int64` (List of Number) list of size <=1 consisting of an integer value.
- `value_string` (List of String) list of size <=1 consisting of a string value.
- `value_timestamp` (List of String) list of size <=1 consisting of a timestamp value.


<a id="nestedblock--rules--count--compare_groups"></a>
### Nested Schema for `rules.count.compare_groups`

Required:

- `column` (Block List, Min: 1, Max: 1) Represents two possible column types (link column, columnPath) of an observe dataset. (see [below for nested schema](#nestedblock--rules--count--compare_groups--column))
- `compare_values` (Block List, Min: 1) list of comparisons that provide an implicit AND where all comparisons must match. (see [below for nested schema](#nestedblock--rules--count--compare_groups--compare_values))

<a id="nestedblock--rules--count--compare_groups--column"></a>
### Nested Schema for `rules.count.compare_groups.column`

Optional:

- `column_path` (Block List, Max: 1) Specifies how the user wants to group by a specific column name or a JSON object column that has a path. (see [below for nested schema](#nestedblock--rules--count--compare_groups--column--column_path))
- `link_column` (Block List, Max: 1) Identifies a link-type column created by connecting two different datasets' columns (primary sources & destination sources). (see [below for nested schema](#nestedblock--rules--count--compare_groups--column--link_column))

<a id="nestedblock--rules--count--compare_groups--column--column_path"></a>
### Nested Schema for `rules.count.compare_groups.column.column_path`

Required:

- `name` (String) The name of the column.

Optional:

- `path` (String) The path of the path, if the name refers to a column with a JSON object.


<a id="nestedblock--rules--count--compare_groups--column--link_column"></a>
### Nested Schema for `rules.count.compare_groups.column.link_column`

Required:

- `name` (String) The name of the link column.



<a id="nestedblock--rules--count--compare_groups--compare_values"></a>
### Nested Schema for `rules.count.compare_groups.compare_values`

Required:

- `compare_fn` (String) the type of comparison (greater, less, equal, etc.)

Optional:

- `value_bool` (List of Boolean) list of size <=1 consisting of a boolean value.
- `value_duration` (List of Number) list of size <=1 consisting of a duration value.
- `value_float64` (List of Number) list of size <=1 consisting of a float value.
- `value_int64` (List of Number) list of size <=1 consisting of an integer value.
- `value_string` (List of String) list of size <=1 consisting of a string value.
- `value_timestamp` (List of String) list of size <=1 consisting of a timestamp value.




<a id="nestedblock--rules--promote"></a>
### Nested Schema for `rules.promote`

Optional:

- `compare_columns` (Block List) Specifies the one or multiple values you'd like to compare against the column. (see [below for nested schema](#nestedblock--rules--promote--compare_columns))

<a id="nestedblock--rules--promote--compare_columns"></a>
### Nested Schema for `rules.promote.compare_columns`

Required:

- `column` (Block List, Min: 1, Max: 1) Represents two possible column types (link column, columnPath) of an observe dataset. (see [below for nested schema](#nestedblock--rules--promote--compare_columns--column))
- `compare_values` (Block List, Min: 1) list of comparisons that provide an implicit AND where all comparisons must match. (see [below for nested schema](#nestedblock--rules--promote--compare_columns--compare_values))

<a id="nestedblock--rules--promote--compare_columns--column"></a>
### Nested Schema for `rules.promote.compare_columns.column`

Optional:

- `column_path` (Block List, Max: 1) Specifies how the user wants to group by a specific column name or a JSON object column that has a path. (see [below for nested schema](#nestedblock--rules--promote--compare_columns--column--column_path))
- `link_column` (Block List, Max: 1) Identifies a link-type column created by connecting two different datasets' columns (primary sources & destination sources). (see [below for nested schema](#nestedblock--rules--promote--compare_columns--column--link_column))

<a id="nestedblock--rules--promote--compare_columns--column--column_path"></a>
### Nested Schema for `rules.promote.compare_columns.column.column_path`

Required:

- `name` (String) The name of the column.

Optional:

- `path` (String) The path of the path, if the name refers to a column with a JSON object.


<a id="nestedblock--rules--promote--compare_columns--column--link_column"></a>
### Nested Schema for `rules.promote.compare_columns.column.link_column`

Required:

- `name` (String) The name of the link column.



<a id="nestedblock--rules--promote--compare_columns--compare_values"></a>
### Nested Schema for `rules.promote.compare_columns.compare_values`

Required:

- `compare_fn` (String) the type of comparison (greater, less, equal, etc.)

Optional:

- `value_bool` (List of Boolean) list of size <=1 consisting of a boolean value.
- `value_duration` (List of Number) list of size <=1 consisting of a duration value.
- `value_float64` (List of Number) list of size <=1 consisting of a float value.
- `value_int64` (List of Number) list of size <=1 consisting of an integer value.
- `value_string` (List of String) list of size <=1 consisting of a string value.
- `value_timestamp` (List of String) list of size <=1 consisting of a timestamp value.




<a id="nestedblock--rules--threshold"></a>
### Nested Schema for `rules.threshold`

Required:

- `aggregation` (String) The query aggregator (AllOf, AnyOf, AvgOf, SumOf) for the value monitor type.
- `compare_values` (Block List, Min: 1) list of comparisons that provide an implicit AND where all comparisons must match. (see [below for nested schema](#nestedblock--rules--threshold--compare_values))
- `value_column_name` (String) Indicates which column in the input query has the value to apply the aggregation.

Optional:

- `compare_groups` (Block List) list of comparisons made against the columns which the monitor is grouped by. (see [below for nested schema](#nestedblock--rules--threshold--compare_groups))

<a id="nestedblock--rules--threshold--compare_values"></a>
### Nested Schema for `rules.threshold.compare_values`

Required:

- `compare_fn` (String) the type of comparison (greater, less, equal, etc.)

Optional:

- `value_bool` (List of Boolean) list of size <=1 consisting of a boolean value.
- `value_duration` (List of Number) list of size <=1 consisting of a duration value.
- `value_float64` (List of Number) list of size <=1 consisting of a float value.
- `value_int64` (List of Number) list of size <=1 consisting of an integer value.
- `value_string` (List of String) list of size <=1 consisting of a string value.
- `value_timestamp` (List of String) list of size <=1 consisting of a timestamp value.


<a id="nestedblock--rules--threshold--compare_groups"></a>
### Nested Schema for `rules.threshold.compare_groups`

Required:

- `column` (Block List, Min: 1, Max: 1) Represents two possible column types (link column, columnPath) of an observe dataset. (see [below for nested schema](#nestedblock--rules--threshold--compare_groups--column))
- `compare_values` (Block List, Min: 1) list of comparisons that provide an implicit AND where all comparisons must match. (see [below for nested schema](#nestedblock--rules--threshold--compare_groups--compare_values))

<a id="nestedblock--rules--threshold--compare_groups--column"></a>
### Nested Schema for `rules.threshold.compare_groups.column`

Optional:

- `column_path` (Block List, Max: 1) Specifies how the user wants to group by a specific column name or a JSON object column that has a path. (see [below for nested schema](#nestedblock--rules--threshold--compare_groups--column--column_path))
- `link_column` (Block List, Max: 1) Identifies a link-type column created by connecting two different datasets' columns (primary sources & destination sources). (see [below for nested schema](#nestedblock--rules--threshold--compare_groups--column--link_column))

<a id="nestedblock--rules--threshold--compare_groups--column--column_path"></a>
### Nested Schema for `rules.threshold.compare_groups.column.column_path`

Required:

- `name` (String) The name of the column.

Optional:

- `path` (String) The path of the path, if the name refers to a column with a JSON object.


<a id="nestedblock--rules--threshold--compare_groups--column--link_column"></a>
### Nested Schema for `rules.threshold.compare_groups.column.link_column`

Required:

- `name` (String) The name of the link column.



<a id="nestedblock--rules--threshold--compare_groups--compare_values"></a>
### Nested Schema for `rules.threshold.compare_groups.compare_values`

Required:

- `compare_fn` (String) the type of comparison (greater, less, equal, etc.)

Optional:

- `value_bool` (List of Boolean) list of size <=1 consisting of a boolean value.
- `value_duration` (List of Number) list of size <=1 consisting of a duration value.
- `value_float64` (List of Number) list of size <=1 consisting of a float value.
- `value_int64` (List of Number) list of size <=1 consisting of an integer value.
- `value_string` (List of String) list of size <=1 consisting of a string value.
- `value_timestamp` (List of String) list of size <=1 consisting of a timestamp value.





<a id="nestedblock--stage"></a>
### Nested Schema for `stage`

Optional:

- `alias` (String) The stage alias is the label by which subsequent stages can refer to the
results of this stage.
- `input` (String) The stage input defines what input should be used as a starting point for
the stage pipeline. It must refer to a label contained in `inputs`, or a
previous stage `alias`. The stage input can be omitted if `inputs`
contains a single element.
- `output_stage` (Boolean) A boolean flag used to specify the output stage. Should be used only for
a stage preceding the last stage. The last stage is an output stage by default.
- `pipeline` (String) An OPAL snippet defining a transformation on the selected input.


<a id="nestedblock--actions"></a>
### Nested Schema for `actions`

Required:

- `oid` (String) The OID of this shared action.

Optional:

- `levels` (List of String) The alarm level(s) at which this monitor should trigger this shared action.
- `send_end_notifications` (Boolean) If true, notifications will be sent if the monitor stops triggering.
- `send_reminders_interval` (String) Determines how frequently you will be reminded of an ongoing alert.


<a id="nestedblock--groupings"></a>
### Nested Schema for `groupings`

Optional:

- `column_path` (Block List, Max: 1) Specifies how the user wants to group by a specific column name or a JSON object column that has a path. (see [below for nested schema](#nestedblock--groupings--column_path))
- `link_column` (Block List, Max: 1) Identifies a link-type column created by connecting two different datasets' columns (primary sources & destination sources). (see [below for nested schema](#nestedblock--groupings--link_column))

<a id="nestedblock--groupings--column_path"></a>
### Nested Schema for `groupings.column_path`

Required:

- `name` (String) The name of the column.

Optional:

- `path` (String) The path of the path, if the name refers to a column with a JSON object.


<a id="nestedblock--groupings--link_column"></a>
### Nested Schema for `groupings.link_column`

Required:

- `name` (String) The name of the link column.



<a id="nestedblock--scheduling"></a>
### Nested Schema for `scheduling`

Optional:

- `transform` (Block List, Max: 1) Should be used to defer scheduling to the transformer and evaluate when data becomes available. (see [below for nested schema](#nestedblock--scheduling--transform))

<a id="nestedblock--scheduling--transform"></a>
### Nested Schema for `scheduling.transform`

Required:

- `freshness_goal` (String) The freshness goal.
## Import
Import is supported using the following syntax:
```shell
terraform import observe_monitor_v2.example 1414010
```
